/* --page */
    /* this file should contain html and body styles, and any other styles that relate to the general wrapping of every page e.g. a pagewrapping element */

    html {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        background:#fafcfc;
    }

    body {
        .font-sourceregular();
        font-size: 100%;
        color:@grey;
        background:#fafcfc;
    }

    .main {
		padding:20px 0 60px 0;
		min-height:700px;
		background:@black;
	}

	.selectall {
		float:left;
		margin:0 0 0.5em 0;
	}

	.activefilters {
		margin:0 0 20px 0;
		min-height:1.7em;

		.filt {
			display:inline-block;
			padding:0.1em 0.6em;
			margin-right:1em;
			margin-bottom:5px;
			.transition( background @transpeed );
			text-transform:uppercase;
			.font-montserratultralight();
			.fontcalculate( 14 );
			background:@blue;
			color:@white;
			cursor:pointer;

			&:after {
				content:"";
				display:inline-block;
				width:1em;
				height:0.8em;
				background:url('../img/cross-white.svg') no-repeat 50% 50%;
				background-size:contain;
				margin-left:0.4em;
				font-weight:bold;
			}
			&:hover {
				background:lighten(@blue,10%);
			}
		}
	}
	
	.tag {
		padding:0.1em 0.4em;
		margin-right:0.5em;
		border:solid 1px @greyDark;
		.font-sourceregular();
		.fontcalculate( 14 );
		color:@greyDark;
		text-transform:capitalize;
	}
	.smalltag {
		display:inline-block;
		margin-right:0.3em;
		text-transform:capitalize;

		&:after {
			content:",";
		}
		&:last-child {
			&:after {
				content:"";
			}
		}
	}

	.project {
		position:relative;
		height:290px;
		.border-box;
		background:@white;
		.box-shadow( 0 0 10px rgba(255, 255, 255, 0.6) );
		.border-radius( 4px );
		
		.thumbnail {
			position:relative;
			min-height:150px;
			background-color:@blue;
			//background-image:url('../img/logo-bv.svg');
			background-repeat:no-repeat;
			background-position:50% 50%;
			background-size:30% auto;
			overflow:hidden;
			.border-radius( 4px 4px 0 0 );
			
			&.hasimg {
				background:none;
			}

			.thumbnailimg {
				position:absolute;
				top:0;
				left:0;
				width:100%;
				max-width:none;
			}

			.tag {
				position:absolute;
				bottom:10px;
				right:10px;
				color:@white;
				border-color:@white;
				background:rgba(54,57,66,0.5);
			}

			&.mainimg {
				cursor:pointer;
				&:after {
					content:"";
					position:absolute;
					top:100%;
					left:0;
					width:100%;
					height:10px;
					border-top:solid 1px red;
					.box-shadow( 0 13px 10px 8px rgba(0, 0, 0, 0.5) );
				}
			}
			&.popupimg {
				.thumbnailimg {
					position:absolute;
					top:0;
					left:50%;
					width:auto;
					height:100%;
					max-width:none;
					.transform( translateX(-50%) );
				}
			}
		}

		.firstinner {
			padding:10px;
			.font-sourceregular();
			color:#797a82;

			.jobname {
				min-height:2.4em;
				cursor:pointer;
			}
		}
		.client {
			text-transform:capitalize;
		}
		.desc {
			padding-bottom:1em;
			font-size:90%;
		}


		.more-details {
			position:absolute;
			bottom:10px;
			left:50%;
			width:50%;
			margin-left:-25%;
		}

		.projstatus {
			position:absolute;
			top:0;
			left:0;
			width:100%;
			background:@green;
			.border-radius( 4px 4px 0 0 );
			color:@white;
			text-align:center;
			.font-montserratultralight();
			text-transform:uppercase;
			line-height:1.5em;

			&:after {
				content:attr(data-stat);
			}
		}

		.detailswrapper {
			.transparency( 0 );
			z-index:-1;
			position:fixed;
			top:0;
			left:0;
			width:100%;
			height:100%;
			background:rgba(0,0,0,0.5);
			.transition( opacity @transpeed );

			&.visible {
				.transparency( 1 );
				z-index:500;
			}
		}
		.details {
			.transparency( 0 );
			z-index:-1;
			position:fixed;
			top:10%;
			left:30%;
			width:40%;
			height:80%;
			max-height:800px;
			overflow:hidden;
			.border-box();
			background:@white;
			.border-radius( 4px );
			.box-shadow( 0 2px 5px rgba(0,0,0,0.5) );
			.transition( opacity @transpeed );

			&.visible {
				z-index:501;
				.transparency( 1 );
			}
			
			.list {
				margin-bottom:1em;
				li {
					margin-bottom:0.2em;
				}
			}
			.links {
				position:absolute;
				bottom:0;
				right:0;
				width:65%;
				padding:20px;
				.border-box();
				background:@greyPale;
				li {
					display:inline-block;
					&.hidden {
						display:none;
					}
					a {
						margin-right:1em;
					}
				}
			}

			.closelnk {
				position:absolute;
				top:0;
				right:0;
				width:45px;
				height:45px;
				padding:15px;
				.border-box();
				cursor:pointer;
			}
		}

		.leftcol {
			position:absolute;
			top:0;
			left:0;
			width:35%;
			height:100%;
			.border-radius( 0 );
			.box-shadow( -5px 0 8px -8px rgba(0, 0, 0, 0.5) inset );

			.projstatus {
				.border-radius( 0 );
			}
		}
		.rightcol {
			position:absolute;
			top:0;
			right:0;
			width:65%;
			height:100%;
			padding:20px;
			border-bottom:solid 62px @white;
			.border-box();
			overflow-y:scroll;
			.box-shadow( 11px 0 8px 8px rgba(0, 0, 0, 0.5) );
			.jobname {
				padding-right:1em;
			}
		}
	}

@media (max-width:@tabletWidth){
	.project {
		.details {
			width:70%;
			left:15%;
		}
	}
}

@media (max-width:@mobileWidth){
	.activefilters {
		display:none;
	}
}

@media (max-width:@realMobileWidth){
	.project {
		padding-bottom:15px;
		height:auto;

		.more-details {
			position:relative;
			display:block;
			left:auto;
			bottom:auto;
			margin:0 auto;
		}

		.details {
			top:0;
			left:0;
			width:100%;
			height:100%;
			overflow-y:scroll;
			margin:0;
			.border-radius( 0 );

			.links {
				position:relative;
				width:auto;
			}
		}

		.leftcol,
		.rightcol {
			position:relative;
			width:auto;
			height:auto;
		}
		.leftcol {
			.box-shadow( 0 -5px 8px -8px rgba(0, 0, 0, 0.5) inset );
			&.popupimg {
				.thumbnailimg {
					width:100%;
					height:auto;
				}
			}
		}
		.rightcol {
			border:0;
			.box-shadow( 11px 0 8px 8px rgba(0, 0, 0, 0.1) );
		}
	}
}

